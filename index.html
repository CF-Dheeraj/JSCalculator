<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link href="calc.css" rel="stylesheet">
    
    <title>Calculator</title>
</head>
<body>
    <div class="container calc_body">
        <div class="container">
            <input class="form-control mt-3 output_box" id="previous_ans" type="text" value="" disabled readonly/>
            <input class="form-control mt-3 output_box" id="main_ans" type="text" value="0" disabled readonly/>
        </div>
        <div class="container input_section">
            <button type="button" class="btn btn-dark input_buttons" onclick="display('7')">7</button>
            <button type="button" class="btn btn-dark input_buttons" onclick="display('8')">8</button>
            <button type="button" class="btn btn-dark input_buttons" onclick="display('9')">9</button>
            <button type="button" class="btn btn-dark input_buttons" onclick="display('/')">/</button>
        </div>
        <div class="container input_section">
            <button type="button" class="btn btn-dark input_buttons" onclick="display('4')">4</button>
            <button type="button" class="btn btn-dark input_buttons" onclick="display('5')">5</button>
            <button type="button" class="btn btn-dark input_buttons" onclick="display('6')">6</button>
            <button type="button" class="btn btn-dark input_buttons" onclick="display('*')">*</button>
        </div>
        <div class="container input_section">
            <button type="button" class="btn btn-dark input_buttons" onclick="display('1')">1</button>
            <button type="button" class="btn btn-dark input_buttons" onclick="display('2')">2</button>
            <button type="button" class="btn btn-dark input_buttons" onclick="display('3')">3</button>
            <button type="button" class="btn btn-dark pb-4 input_buttons" onclick="display('-')">__</button>
        </div>
        <div class="container input_section">
            <button type="button" class="btn btn-dark input_buttons" onclick="display('0')">0</button>
            <button type="button" class="btn btn-dark input_buttons" onclick="display('.')">.</button>
            <button type="button" class="btn btn-dark input_buttons" onclick="answer()">=</button>
            <button type="button" class="btn btn-dark input_buttons" onclick="display('+')">+</button>
        </div>
        <button type="button" class="btn btn-danger big_button" onclick="clearsc()">Clear</button>
        

    </div>
    <script>
        let output= document.getElementById("main_ans");
        let equation="0";
        let ans=0;
        let display = (parm) => {
            // alert(equation.charAt(equation.length-1));
            if(equation==="0")
            {
                document.getElementById("previous_ans").value="0";
            }
            else{
                document.getElementById("previous_ans").value=ans;
            }
            
            if(equation==="0" && (parm==="/" || parm=="+" || parm==="*"|| parm==="."))
            {
                equation= equation+parm;
                output.value=equation;
                
            }
            //For - and numbers to replace zero
            else if(equation==="0"){
                equation="";
                equation= equation+parm;
                output.value=equation;
                
            }
            else if((equation.slice(-1)==="/"||equation.slice(-1)==="*"||equation.slice(-1)==="/"||equation.slice(-1)==="."||equation.slice(-1)==="-")&&(parm==="/" || parm==="+" || parm==="*"|| parm==="-"|| parm===".")){
                alert("Not Allowed--(Operator after Operator)");
                
            }
            else{
                equation= equation+parm;
                output.value=equation;
            }
            
            
        }
        let answer = () => {
            if(equation==="")
            {
                output.value="0";
            }
            else{
                ans = eval(equation);
                document.getElementById("previous_ans").value=equation+"=";
                output.value=ans;
                equation=ans+"";
                
            }
            
        }
        let clearsc = () => {
            equation="0";
            output.value=equation;
            document.getElementById("previous_ans").value="";

            
        }
    </script>
    <!-- clear liknepe nahi chala -->
    

    
</body>
</html>